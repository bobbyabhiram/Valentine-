<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lipi, Will You Be My Valentine?</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Quicksand:wght@400;500;600;700&family=Great+Vibes&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;width:100%;font-family:'Quicksand',sans-serif;background:#0a1628;color:#fff;overflow-x:hidden}

/* ============ PAGE 1 ‚Äî PROPOSAL ============ */
#first-page{height:100vh;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;position:relative;z-index:1;background:#0a1628;overflow:hidden}
#fp-bg{position:absolute;inset:0;z-index:0;background-color:#0a1628;background-image:url(‚Äòbackground.jpg‚Äô);background-size:cover;background-position:center center;background-repeat:no-repeat}
#first-page::before{content:‚Äù‚Äù;position:absolute;inset:0;z-index:1;background:rgba(0,0,0,.75)}
.ask-content{position:relative;z-index:2;animation:fadeUp 1.2s ease-out both;width:90%;max-width:700px}
.ask-content .pretext{font-family:‚ÄòQuicksand‚Äô,sans-serif;font-size:clamp(13px,3vw,20px);font-weight:600;letter-spacing:6px;text-transform:uppercase;color:#00e5ff;text-shadow:0 0 20px rgba(0,229,255,.5),0 2px 6px rgba(0,0,0,.9);margin-bottom:12px;animation:fadeUp 1s .3s ease-out both}
.ask-content h1{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(34px,8.5vw,80px);font-weight:700;line-height:1.1;color:#fff;text-shadow:0 0 20px rgba(0,150,255,.8),0 0 40px rgba(0,100,200,.4),0 3px 8px rgba(0,0,0,1);-webkit-text-stroke:1px rgba(0,0,0,.3);margin-bottom:10px;animation:fadeUp 1s .5s ease-out both}
.ask-content h1 .name{font-family:‚ÄòGreat Vibes‚Äô,cursive;display:block;font-size:clamp(52px,13vw,120px);color:#4dc9f6;text-shadow:0 0 30px rgba(0,180,255,.8),0 0 60px rgba(0,120,200,.5),0 4px 10px rgba(0,0,0,1);-webkit-text-stroke:0.5px rgba(0,0,0,.2);line-height:1.3}
.ask-content .subtitle{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(16px,3.5vw,24px);font-weight:600;color:#4dc9f6;margin-bottom:36px;text-shadow:0 0 15px rgba(0,180,255,.6),0 2px 6px rgba(0,0,0,1);animation:fadeUp 1s .7s ease-out both}
.btn-container{display:flex;justify-content:center;align-items:center;gap:24px;min-height:70px;animation:fadeUp 1s .9s ease-out both}
.p1-btn{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(17px,3.8vw,22px);font-weight:700;padding:18px 48px;border:none;border-radius:60px;cursor:pointer;letter-spacing:1px;white-space:nowrap}
#yes{background-color:#2e7dcf;background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);color:#fff;box-shadow:0 8px 32px rgba(30,100,200,.5);transition:all .4s ease}
#no{background:#0a1e3d;color:#fff;border:2px solid #4dc9f6;z-index:3}
#no.escaped{position:fixed}
.float-heart{position:absolute;z-index:1;font-size:clamp(18px,4vw,30px);color:#4dc9f6;opacity:.35;text-shadow:0 0 10px rgba(0,180,255,.5);animation:gentleFloat 6s ease-in-out infinite}

/* ============ QUIZ SECTION ============ */
#quiz-page{display:none;min-height:100vh;width:100%;position:relative;z-index:1;padding:0}
#quiz-page .quiz-wrap{max-width:100%;margin:0;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:24px 16px}
.quiz-bg{position:fixed;inset:0;z-index:0;background-color:#0a1628;background-size:cover;background-position:center;transition:opacity .6s ease}
.quiz-bg::after{content:‚Äù‚Äù;position:absolute;inset:0;background:rgba(0,0,0,.75)}
.quiz-card{width:100%;max-width:540px;position:relative;z-index:1;background-color:rgba(10,22,40,.85);border:1px solid rgba(77,201,246,.15);border-radius:24px;padding:28px 22px;box-shadow:0 8px 40px rgba(0,0,0,.3);animation:fadeUp .6s ease both}
.progress-bar{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:28px}
.prog-dot{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;transition:all .3s ease}
.prog-dot.done{background-color:#4dc9f6;color:#0a1628}
.prog-dot.active{background:#fff;color:#0a1628;border:2px solid #4dc9f6}
.prog-dot.future{background:rgba(255,255,255,.1);color:rgba(255,255,255,.4)}
.prog-line{width:20px;height:3px;border-radius:2px}
.prog-line.done{background-color:#4dc9f6}
.prog-line.future{background:rgba(255,255,255,.1)}
.q-emoji{font-size:36px;text-align:center;display:block;margin-bottom:8px}
.q-label{font-size:12px;color:#4dc9f6;font-weight:700;letter-spacing:1.5px;text-align:center;margin-bottom:6px}
.q-sub{font-size:13px;color:rgba(255,255,255,.4);font-style:italic;text-align:center;margin-bottom:6px}
.q-text{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(18px,4vw,24px);font-weight:700;text-align:center;line-height:1.5;margin-bottom:24px}
.opt-btn{font-family:‚ÄòQuicksand‚Äô,sans-serif;font-size:15px;font-weight:600;padding:16px 20px;border-radius:16px;border:2px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:rgba(255,255,255,.85);cursor:pointer;text-align:left;width:100%;transition:all .2s ease;margin-bottom:12px;-webkit-tap-highlight-color:transparent}
.opt-btn .opt-letter{color:#4dc9f6;font-weight:700;margin-right:10px}
.opt-btn.correct{background:rgba(77,201,246,.15);border-color:#4dc9f6;color:#4dc9f6}
.opt-btn.wrong{background:rgba(255,100,100,.1);border-color:#ff6b6b;color:#ff9999}
.opt-btn.dimmed{opacity:.3}
.feedback-box{margin-top:20px;text-align:center;animation:fadeUp .5s ease}
.feedback-box .fb-label{font-size:20px;margin-bottom:10px}
.feedback-box .fb-text{font-size:15px;color:rgba(255,255,255,.75);line-height:1.7;margin-bottom:22px;font-style:italic}
.quiz-btn{font-family:‚ÄòQuicksand‚Äô,sans-serif;font-size:16px;font-weight:700;padding:14px 36px;border-radius:50px;border:none;cursor:pointer;background-color:#2e7dcf;background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);color:#fff;box-shadow:0 4px 20px rgba(30,100,200,.35);-webkit-tap-highlight-color:transparent}
.score-num{font-size:clamp(48px,10vw,72px);font-weight:700;font-family:‚ÄòPlayfair Display‚Äô,serif;background-color:#4dc9f6;background-image:linear-gradient(135deg,#4dc9f6,#90EE90);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:shimmer 3s linear infinite;margin-bottom:6px}
.reveal-text{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(16px,3.5vw,21px);color:rgba(255,255,255,.8);line-height:1.8;margin-bottom:14px;animation:fadeUp 1s ease both}
.final-proposal{animation:scaleIn 1s ease both;text-align:center}
.final-proposal .ring{font-size:80px;display:block;margin-bottom:24px;animation:pulse 1.5s ease-in-out infinite}
.final-proposal h1{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(26px,6vw,46px);font-weight:700;background-color:#4dc9f6;background-image:linear-gradient(135deg,#4dc9f6,#90EE90,#FFD700,#90EE90,#4dc9f6);background-size:300% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:shimmer 3s linear infinite;line-height:1.3;margin-bottom:20px}
.final-proposal .poem{font-size:clamp(15px,3vw,19px);color:rgba(255,255,255,.7);line-height:1.8;max-width:460px;margin:0 auto 36px}
.final-proposal .vday{font-size:22px;color:#FFD700;font-weight:700;animation:pulse 2s ease-in-out infinite;margin-bottom:20px}
.continue-btn{font-family:‚ÄòQuicksand‚Äô,sans-serif;font-size:16px;font-weight:700;padding:16px 44px;border-radius:50px;border:none;cursor:pointer;background-color:#FFD700;color:#0a1628;box-shadow:0 6px 25px rgba(255,215,0,.35);animation:pulse 2s ease-in-out infinite;-webkit-tap-highlight-color:transparent}
.confetti-piece{position:absolute;top:-20px;border-radius:2px;animation:confFall linear infinite}

/* ============ PAGE 2 ‚Äî CELEBRATION ============ */
#second-page{display:none;height:100vh;width:100%;position:relative;overflow:hidden;background:#0a1628}
.photo-mosaic{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);height:100%;width:100%;gap:0}
.photo-cell{position:relative;overflow:hidden;background:#0d2240}
.photo-cell .photo-bg{position:absolute;inset:0;background-color:#0d2240;background-size:cover;background-position:center;transition:transform 8s ease;filter:brightness(.75) saturate(1.15)}
.photo-cell:hover .photo-bg{transform:scale(1.08)}
#second-page::after{content:‚Äù‚Äù;position:absolute;inset:0;background:radial-gradient(ellipse at center,rgba(10,22,40,.15) 0%,rgba(10,22,40,.7) 100%);pointer-events:none;z-index:1}
.love-card{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3;width:90%;max-width:440px;max-height:92vh;overflow-y:auto;text-align:center;background-color:#0d1f3c;background-image:linear-gradient(145deg,#0d1f3c,#162d50);border:1px solid rgba(77,201,246,.25);border-radius:32px;padding:30px 20px 26px;box-shadow:0 30px 80px rgba(0,0,0,.6);animation:cardAppear 1s .3s ease-out both;scrollbar-width:none}
.love-card::-webkit-scrollbar{display:none}
.love-card .heart-icon{font-size:40px;display:block;margin-bottom:2px;animation:heartbeat 1.2s ease-in-out infinite}
.love-card h1{font-family:‚ÄòGreat Vibes‚Äô,cursive;font-size:clamp(36px,9.5vw,60px);color:#4dc9f6;text-shadow:0 0 30px rgba(0,180,255,.5),0 2px 6px rgba(0,0,0,.8);margin-bottom:2px;line-height:1.2}
.blue-line{width:60px;height:1px;background:linear-gradient(90deg,transparent,#4dc9f6,transparent);margin:10px auto}
.counter-label{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(13px,3vw,17px);color:#4dc9f6;letter-spacing:2px;margin-bottom:10px}
.counter-grid{display:flex;justify-content:center;align-items:flex-start;gap:clamp(4px,1.5vw,10px);margin-bottom:4px}
.counter-unit{display:flex;flex-direction:column;align-items:center}
.counter-num{font-family:‚ÄòPlayfair Display‚Äô,serif;font-weight:700;font-size:clamp(24px,6.5vw,40px);color:#fff;width:clamp(44px,12.5vw,68px);height:clamp(44px,12.5vw,68px);display:flex;justify-content:center;align-items:center;background-color:rgba(30,100,200,.2);background-image:linear-gradient(145deg,rgba(58,142,230,.3),rgba(26,95,160,.2));border:1px solid rgba(77,201,246,.4);border-radius:14px;box-shadow:0 4px 20px rgba(30,100,200,.2);position:relative;overflow:hidden;transition:transform .3s ease}
.counter-num::after{content:‚Äù‚Äù;position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.06),transparent);animation:shimmer 3s ease-in-out infinite}
.counter-unit-label{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-size:clamp(9px,2.2vw,13px);text-transform:uppercase;letter-spacing:2px;color:#4dc9f6;margin-top:5px}
.counter-colon{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(22px,5.5vw,34px);color:#4dc9f6;opacity:.6;align-self:center;margin-bottom:16px;animation:colonPulse 1s ease-in-out infinite}
.heartbeats{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(12px,2.8vw,15px);color:#4dc9f6;margin:6px 0 2px}
.heartbeats .hb-num{color:#fff;font-weight:600;font-style:normal}
.reason{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(14px,3.2vw,18px);color:#fff;min-height:24px;transition:opacity .4s;margin:10px 0 16px}
.letter-btn{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(14px,3vw,17px);font-weight:600;padding:14px 34px;border:none;border-radius:50px;background-color:#2e7dcf;background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);color:#fff;cursor:pointer;box-shadow:0 6px 24px rgba(30,100,200,.4);transition:all .3s ease}

/* ============ LOVE LETTER MODAL ============ */
#letter-modal{display:none;position:fixed;inset:0;z-index:50;justify-content:center;align-items:center;padding:24px;background:rgba(10,4,6,.92)}
.letter-paper{background-color:#fdf8f0;background-image:linear-gradient(168deg,#fdf8f0,#f9ede0);border-radius:24px;max-width:440px;width:100%;padding:44px 32px 32px;text-align:center;position:relative;box-shadow:0 40px 100px rgba(0,0,0,.5);animation:letterIn .6s ease-out both;max-height:90vh;overflow-y:auto}
.letter-paper::before{content:‚Äù‚Äù;position:absolute;top:16px;left:50%;transform:translateX(-50%);width:60px;height:3px;background:linear-gradient(90deg,transparent,#3a8ee6,transparent);border-radius:2px}
.letter-paper h2{font-family:‚ÄòGreat Vibes‚Äô,cursive;font-size:clamp(32px,8vw,46px);color:#1a5fa0;margin-bottom:20px}
.letter-paper p{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-size:clamp(17px,4vw,21px);line-height:1.8;color:#1a3050;margin-bottom:24px}
.letter-paper .close-btn{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:15px;font-weight:600;padding:14px 36px;border:none;border-radius:50px;background-color:#2e7dcf;background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);color:#fff;cursor:pointer;box-shadow:0 4px 16px rgba(26,95,160,.3);transition:all .3s ease}
.wax-seal{position:absolute;top:-28px;left:50%;transform:translateX(-50%);width:56px;height:56px;background:radial-gradient(circle at 40% 35%,#3a8ee6,#1a4a80);border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:24px;box-shadow:0 4px 16px rgba(0,0,0,.3)}

/* ============ TOASTS & BUBBLES ============ */
.milestone-toast{position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:40;background:#0a1e3d;border:1px solid rgba(77,201,246,.35);border-radius:20px;padding:14px 28px;text-align:center;animation:toastIn .6s ease-out both;box-shadow:0 10px 40px rgba(0,0,0,.5)}
.milestone-toast .mt-emoji{font-size:28px;display:block;margin-bottom:4px}
.milestone-toast .mt-text{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-size:clamp(15px,3.5vw,18px);color:#4dc9f6;font-style:italic}
.plead-bubble{position:fixed;z-index:50;background:#0a1e3d;border:1px solid rgba(77,201,246,.5);border-radius:20px;padding:12px 22px;max-width:280px;text-align:center;pointer-events:none;animation:bubbleIn .4s ease-out both;box-shadow:0 8px 30px rgba(0,0,0,.4)}
.plead-bubble::after{content:‚Äù‚Äù;position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #0a1e3d}
.plead-bubble .plead-emoji{font-size:24px;display:block;margin-bottom:4px}
.plead-bubble .plead-text{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(14px,3.2vw,18px);color:#fff}

/* ============ EFFECTS ============ */
.petal{position:fixed;z-index:4;pointer-events:none;width:12px;height:12px;background:#4dc9f6;border-radius:50% 0 50% 50%;opacity:.6;animation:petalFall linear forwards}
.burst-heart{position:fixed;z-index:10;pointer-events:none;font-size:22px;animation:burstUp 1.8s ease-out forwards}
.sparkle{position:fixed;z-index:10;pointer-events:none;font-size:16px;animation:sparkPop .8s ease-out forwards}
.whisper{position:fixed;z-index:4;pointer-events:none;font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(13px,2.5vw,16px);color:#4dc9f6;opacity:.5;animation:whisperFloat 7s linear forwards;text-shadow:0 0 12px rgba(0,180,255,.4)}

/* ============ LOVE CALCULATOR ============ */
.calc-wrap{text-align:center;animation:fadeUp .8s ease both}
.calc-title{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(18px,4vw,26px);font-weight:700;color:#fff;margin-bottom:6px}
.calc-sub{font-size:clamp(13px,2.8vw,16px);color:rgba(255,255,255,.5);margin-bottom:28px}
.calc-ring-box{position:relative;width:200px;height:200px;margin:0 auto 24px}
.calc-ring-svg{width:200px;height:200px;transform:rotate(-90deg)}
.calc-ring-bg{fill:none;stroke:rgba(77,201,246,.12);stroke-width:12}
.calc-ring-fill{fill:none;stroke:url(#calcGrad);stroke-width:12;stroke-linecap:round;stroke-dasharray:565.48;stroke-dashoffset:565.48;transition:stroke-dashoffset .1s linear}
.calc-pct{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:48px;font-weight:700;color:#fff}
.calc-pct span{font-size:28px;color:#4dc9f6}
.calc-names{display:flex;justify-content:center;align-items:center;gap:16px;margin-bottom:20px}
.calc-name{font-family:‚ÄòPlayfair Display‚Äô,serif;font-size:clamp(16px,3.5vw,22px);font-weight:700;color:#4dc9f6}
.calc-heart{font-size:28px;animation:heartbeat 1.2s ease-in-out infinite}
.calc-msg{font-family:‚ÄòCormorant Garamond‚Äô,serif;font-style:italic;font-size:clamp(15px,3.2vw,20px);color:rgba(255,255,255,.7);line-height:1.6;min-height:28px;margin-bottom:24px}
.calc-msg.final{color:#FFD700;font-weight:600;font-size:clamp(17px,3.5vw,22px);font-style:normal}

/* ============ KEYFRAMES ============ */
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes gentleFloat{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-20px) rotate(8deg)}}
@keyframes heartbeat{0%,100%{transform:scale(1)}15%{transform:scale(1.15)}30%{transform:scale(1)}45%{transform:scale(1.1)}}
@keyframes cardAppear{from{opacity:0;transform:translate(-50%,-50%) scale(.9) translateY(30px)}to{opacity:1;transform:translate(-50%,-50%) scale(1) translateY(0)}}
@keyframes colonPulse{0%,100%{opacity:.5}50%{opacity:.15}}
@keyframes shimmer{0%{background-position:0% center}100%{background-position:200% center}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
@keyframes scaleIn{from{opacity:0;transform:scale(.7)}to{opacity:1;transform:scale(1)}}
@keyframes letterIn{from{opacity:0;transform:scale(.92) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}
@keyframes petalFall{0%{transform:translateY(-20px) rotate(0deg);opacity:.7}100%{transform:translateY(110vh) rotate(720deg);opacity:0}}
@keyframes burstUp{0%{transform:translateY(0) scale(1);opacity:1}100%{transform:translateY(-200px) scale(.6);opacity:0}}
@keyframes sparkPop{0%{transform:scale(.5);opacity:1}100%{transform:scale(2);opacity:0}}
@keyframes whisperFloat{0%{transform:translateY(0);opacity:.5}100%{transform:translateY(-100vh);opacity:0}}
@keyframes toastIn{from{opacity:0;transform:translateX(-50%) translateY(-20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}
@keyframes toastOut{to{opacity:0;transform:translateX(-50%) translateY(-30px)}}
@keyframes bubbleIn{from{opacity:0;transform:translateY(10px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes bubbleOut{to{opacity:0;transform:translateY(-10px) scale(.9)}}
@keyframes pageShake{0%,100%{transform:translateX(0)}20%{transform:translateX(-4px) rotate(-.3deg)}40%{transform:translateX(4px) rotate(.3deg)}60%{transform:translateX(-3px)}80%{transform:translateX(2px)}}
@keyframes confFall{0%{transform:translateY(-10px) rotate(0);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}

@media(max-width:600px){
.photo-mosaic{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(3,1fr)}
.love-card{padding:22px 14px 20px;border-radius:24px}
.letter-paper{padding:36px 20px 24px}
.counter-num{border-radius:10px}
}
::-webkit-scrollbar{display:none}
</style>

</head>
<body>
<canvas id="bgCanvas" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none"></canvas>
<audio id="bg-music" loop><source src="song.mp3" type="audio/mpeg"></audio>

<!-- PAGE 1 ‚Äî PROPOSAL -->

<div id="first-page">
  <div id="fp-bg"></div>
  <span class="float-heart" style="top:12%;left:8%;animation-delay:0s">‚ô•</span>
  <span class="float-heart" style="top:20%;right:10%;animation-delay:1.5s;font-size:20px">‚ô•</span>
  <span class="float-heart" style="bottom:18%;left:15%;animation-delay:3s">‚ô•</span>
  <span class="float-heart" style="bottom:25%;right:12%;animation-delay:2s;font-size:16px">‚ô•</span>
  <div class="ask-content">
    <div class="pretext">a question for you</div>
    <h1><span class="name">Lipi</span>Will You Be My Valentine?</h1>
    <div class="subtitle">‚Äî say yes & let me show you something beautiful ‚Äî</div>
    <div class="btn-container">
      <button class="p1-btn" id="yes" onclick="yesClick()">Yes, Forever ‚ô•</button>
      <button class="p1-btn" id="no">No üòú</button>
    </div>
  </div>
</div>

<!-- QUIZ SECTION -->

<div id="quiz-page"><div class="quiz-bg" id="quiz-bg"></div><div class="quiz-wrap"><div id="quiz-root" style="width:100%;max-width:540px"></div></div></div>

<!-- PAGE 2 ‚Äî CELEBRATION -->

<div id="second-page">
  <div class="photo-mosaic">
    <div class="photo-cell"><div class="photo-bg" data-src="photo1.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo2.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo3.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo4.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo5.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo6.JPG"></div></div>
  </div>
  <div class="love-card">
    <span class="heart-icon">üíñ</span>
    <h1>I Love You</h1>
    <div class="blue-line"></div>
    <div class="counter-label">Every second since I found you</div>
    <div class="counter-grid">
      <div class="counter-unit"><div class="counter-num" id="c-days">0</div><div class="counter-unit-label">Days</div></div>
      <span class="counter-colon">:</span>
      <div class="counter-unit"><div class="counter-num" id="c-hours">0</div><div class="counter-unit-label">Hours</div></div>
      <span class="counter-colon">:</span>
      <div class="counter-unit"><div class="counter-num" id="c-mins">0</div><div class="counter-unit-label">Mins</div></div>
      <span class="counter-colon">:</span>
      <div class="counter-unit"><div class="counter-num" id="c-secs">0</div><div class="counter-unit-label">Secs</div></div>
    </div>
    <div class="heartbeats">‚âà <span class="hb-num" id="hb-count">0</span> heartbeats together</div>
    <div class="blue-line"></div>
    <div class="reason" id="reasons"></div>
    <button class="letter-btn" onclick="showLetter()">Read My Love Letter üíå</button>
  </div>
</div>

<!-- LOVE LETTER -->

<div id="letter-modal">
  <div class="letter-paper">
    <div class="wax-seal">üíñ</div>
    <h2>My Dearest Lipi</h2>
    <p>From the moment you walked into my life, everything changed in the most beautiful way.<br><br>Your laugh is my favourite sound, your smile my favourite sight, and your happiness my only mission.<br><br>You are my heart, my home, and my forever Valentine. Loving you is the easiest thing I've ever done. ‚ù§Ô∏è</p>
    <button class="close-btn" onclick="hideLetter()">Close With a Kiss üíã</button>
  </div>
</div>

<script>
/* ===== AUDIO ‚Äî unlock early, play at calculator 100% ===== */
var bgMusic=document.getElementById('bg-music');
var musicUnlocked=false,musicPlaying=false;

/* Unlock audio on ANY user tap (silent play+pause) */
function unlockAudio(){
if(musicUnlocked)return;
bgMusic.volume=0;
bgMusic.play().then(function(){bgMusic.pause();bgMusic.currentTime=0;bgMusic.volume=1;musicUnlocked=true}).catch(function(){})
}
document.addEventListener('click',unlockAudio);
document.addEventListener('touchstart',unlockAudio);

function startMusic(){
if(musicPlaying)return;musicPlaying=true;
bgMusic.currentTime=0;bgMusic.volume=1;
var p=bgMusic.play();
if(p)p.catch(function(){
/* If still blocked, retry on next tap */
function retryPlay(){bgMusic.play().then(function(){document.removeEventListener('click',retryPlay);document.removeEventListener('touchstart',retryPlay)}).catch(function(){})}
document.addEventListener('click',retryPlay);document.addEventListener('touchstart',retryPlay)})
}
function tryLoad(n){var e=['.jpg','.JPG','.jpeg','.JPEG','.png','.PNG'],b=n.replace(/\.[^.]+$/,'');return new Promise(function(r){var t=0;e.forEach(function(x){var i=new Image();i.onload=function(){r(b+x)};i.onerror=function(){t++;if(t>=e.length)r(null)};i.src=b+x})})}
tryLoad('background.jpg').then(function(u){if(u)document.getElementById('fp-bg').style.backgroundImage='url('+u+')'});
document.querySelectorAll('.photo-bg').forEach(function(el){var s=el.getAttribute('data-src');if(s)tryLoad(s).then(function(u){if(u)el.style.backgroundImage='url('+u+')'})});

/* ===== CANVAS ‚Äî floating hearts ===== */
(function(){var c=document.getElementById('bgCanvas'),ctx=c.getContext('2d'),hs=[];function rs(){c.width=innerWidth;c.height=innerHeight}rs();addEventListener('resize',rs);for(var i=0;i<25;i++)hs.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,sz:8+Math.random()*14,sp:.3+Math.random()*.7,op:.12+Math.random()*.2});function dh(x,y,s){ctx.beginPath();var t=s*.3;ctx.moveTo(x,y+t);ctx.bezierCurveTo(x,y,x-s/2,y,x-s/2,y+t);ctx.bezierCurveTo(x-s/2,y+(s+t)/2,x,y+(s+t)/1.2,x,y+s);ctx.bezierCurveTo(x,y+(s+t)/1.2,x+s/2,y+(s+t)/2,x+s/2,y+t);ctx.bezierCurveTo(x+s/2,y,x,y,x,y+t);ctx.closePath();ctx.fill()}function an(){ctx.clearRect(0,0,c.width,c.height);var g=ctx.createLinearGradient(0,0,c.width,c.height);g.addColorStop(0,'#0a1628');g.addColorStop(.5,'#0d1f3c');g.addColorStop(1,'#0a1628');ctx.fillStyle=g;ctx.fillRect(0,0,c.width,c.height);for(var i=0;i<hs.length;i++){var h=hs[i];h.y-=h.sp;if(h.y<-30){h.y=c.height+30;h.x=Math.random()*c.width}ctx.fillStyle='rgba(77,201,246,'+h.op+')';dh(h.x,h.y,h.sz)}requestAnimationFrame(an)}an()})();

/* ===== PAGE 1 ‚Üí QUIZ ===== */
function yesClick(){document.getElementById('first-page').style.display='none';document.getElementById('quiz-page').style.display='block';document.body.style.overflow='auto';showQuizWelcome()}

/* ===== NO BUTTON ===== */
var noCount=0,noEscaped=false,currentBubble=null,noMoving=false;
var noTexts=['No üòú','Are you sure? ü•∫','Really?! üò¢','Think again! üíî','Pretty please? üôè','I\'ll be sad üò≠','Don\'t do this! üíï','One more chance? ü•π','PLEASE üò©','You\'re breaking my heart üíî','I won\'t give up! üí™','...just say Yes already ‚ù§Ô∏è','Still no?! üò±','You\'re so stubborn üòú','But I love you! üíñ','No is not an option! üö´','Try again üòè','The answer is Yes üòç'];
var pleadMsgs=[{e:'ü•∫',t:'But I made this whole website for you...'},{e:'üò¢',t:'My heart just cracked a little...'},{e:'üíî',t:'Are you really going to break my heart?'},{e:'üôè',t:'I promise to love you forever!'},{e:'üò≠',t:'The roses are crying right now...'},{e:'ü•π',t:'Even the stars are asking you to say yes...'},{e:'üíï',t:'Come on, you know you want to say yes!'},{e:'üò©',t:'I\'ll keep asking until you say yes!'},{e:'‚ú®',t:'The universe wants us together!'},{e:'üíñ',t:'Your smile already said yes...'},{e:'üëë',t:'Every queen deserves her king!'},{e:'üåπ',t:'This rose won\'t stop until you say yes!'}];
function moveNo(e){if(e){e.preventDefault();e.stopPropagation()}if(noMoving)return;noMoving=true;setTimeout(function(){noMoving=false},300);var btn=document.getElementById('no'),yBtn=document.getElementById('yes');if(!noEscaped){noEscaped=true;btn.classList.add('escaped')}noCount++;btn.innerText=noTexts[noCount%noTexts.length];var g=Math.min(1.4,1+Math.min(noCount,8)*.05);yBtn.style.transform='scale('+g+')';yBtn.style.boxShadow='0 '+(8+Math.min(noCount,10)*2)+'px '+(32+Math.min(noCount,10)*4)+'px rgba(30,100,200,'+(Math.min(.75,.45+Math.min(noCount,10)*.03))+')';var pad=30,bw=Math.max(btn.offsetWidth,120),bh=Math.max(btn.offsetHeight,50),nx=pad+Math.random()*Math.max(1,innerWidth-bw-pad*2),ny=pad+Math.random()*Math.max(1,innerHeight-bh-pad*2);btn.style.left=nx+'px';btn.style.top=ny+'px';if(currentBubble){currentBubble.remove();currentBubble=null}var m=pleadMsgs[(noCount-1)%pleadMsgs.length],b=document.createElement('div');b.className='plead-bubble';b.innerHTML='<span class="plead-emoji">'+m.e+'</span><span class="plead-text">'+m.t+'</span>';var bx=Math.min(innerWidth-270,Math.max(10,nx-60)),by=ny-85;if(by<10)by=ny+(btn.offsetHeight||50)+15;b.style.left=bx+'px';b.style.top=by+'px';document.body.appendChild(b);currentBubble=b;setTimeout(function(){if(b===currentBubble){b.style.animation='bubbleOut .3s ease-in forwards';setTimeout(function(){b.remove();if(currentBubble===b)currentBubble=null},300)}},2200);document.body.style.animation='none';requestAnimationFrame(function(){document.body.style.animation='pageShake .3s ease'})}
(function(){var n=document.getElementById('no');n.addEventListener('mouseover',moveNo);n.addEventListener('touchstart',moveNo,{passive:false});n.addEventListener('click',moveNo)})();

/* ===== QUIZ ENGINE ===== */
var questions=[
  {q:"Where did our love story begin? üåÖ",emoji:"üåä",sub:"September 28 ‚Ä¢ 10:00 AM",opts:["Hyderabad","Rajahmundry","Vijayawada","Vizag"],correct:1,response:"Yes! üíô Rajahmundry ‚Äî where the Godavari blessed our love story! That September morning changed everything."},
  {q:"What made October 29th so special? üè†",emoji:"üíï",sub:"Our most private memory...",opts:["Our first movie together","A surprise gift","Private time at your home","A long drive together"],correct:2,response:"That's right! üè† Your home became our little universe that day. Just us, no distractions ‚Äî pure magic."},
  {q:"Where was our first official date? üçΩÔ∏è",emoji:"‚ú®",sub:"November 5 ‚Äî butterflies everywhere!",opts:["Paradise Restaurant","Shelton Hotel","Taj Hotel","Coffee Day"],correct:1,response:"SHELTON HOTEL! üéâ Our first real date! I was so nervous, but the moment I saw you, everything just clicked."},
  {q:"What magical thing happened on November 8th? üíé",emoji:"üíç",sub:"Just 41 days after we met...",opts:["Our first trip together","We got officially engaged","You said 'I love you' first","We met each other's families"],correct:1,response:"We got ENGAGED! üíç‚ú® 41 days was all it took to know you're my forever person."},
  {q:"How many days between our first meeting and engagement? üóìÔ∏è",emoji:"‚ö°",sub:"Love doesn't follow timelines...",opts:["30 days","41 days","55 days","60 days"],correct:1,response:"41 days! ‚ö° From strangers to soulmates in just 41 days. Some things are just meant to be."}
];
var curQ=-1,quizScore=0,quizAnswered=false;
var quizPhotos=['photo2.JPG','photo4.JPG','photo1.JPG','photo6.JPG','photo3.JPG'];

/* Preload quiz photos */
quizPhotos.forEach(function(p){tryLoad(p).then(function(u){if(u){var idx=quizPhotos.indexOf(p);quizPhotos[idx]=u}})});

function setQuizBg(idx){
var bg=document.getElementById('quiz-bg');if(!bg)return;
if(idx>=0&&idx<quizPhotos.length){bg.style.backgroundImage='url('+quizPhotos[idx]+')'}
else{bg.style.backgroundImage='none'}
}

function showQuizWelcome(){curQ=-1;quizScore=0;setQuizBg(-1);document.getElementById('quiz-root').innerHTML='<div style="text-align:center;animation:fadeUp .8s ease both"><div style="font-size:60px;margin-bottom:16px">üíå</div><h1 style="font-family:Playfair Display,serif;font-size:clamp(26px,6vw,44px);font-weight:700;background-color:#4dc9f6;background-image:linear-gradient(135deg,#4dc9f6,#90EE90,#4dc9f6);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:shimmer 3s linear infinite;margin-bottom:16px;line-height:1.3">Hey Lipi! üíô</h1><p style="font-size:clamp(16px,3vw,20px);color:rgba(255,255,255,.85);line-height:1.7;margin-bottom:8px">I made a little quiz about US...</p><p style="font-size:clamp(14px,2.5vw,17px);color:rgba(255,255,255,.5);line-height:1.6;margin-bottom:36px">5 questions about our love story.<br>Answer them all and find a surprise at the end! üéÅ</p><button class="quiz-btn" onclick="nextQ()" style="font-size:18px;padding:16px 48px">Start The Quiz ‚ú®</button><p style="margin-top:44px;font-size:13px;color:rgba(255,255,255,.25);font-style:italic">Made with all my love ‚Äî Abhi üíô</p></div>'}

function nextQ(){curQ++;quizAnswered=false;if(curQ>=questions.length){setQuizBg(-1);showQuizResult();return}setQuizBg(curQ);var q=questions[curQ],root=document.getElementById('quiz-root');var h='<div class="quiz-card"><div class="progress-bar">';for(var i=0;i<questions.length;i++){var cls=i<curQ?'done':i===curQ?'active':'future';h+='<div class="prog-dot '+cls+'">'+(i<curQ?'‚úì':(i+1))+'</div>';if(i<questions.length-1)h+='<div class="prog-line '+(i<curQ?'done':'future')+'"></div>'}h+='</div><div class="q-emoji">'+q.emoji+'</div><p class="q-label">QUESTION '+(curQ+1)+' OF '+questions.length+'</p><p class="q-sub">'+q.sub+'</p><h2 class="q-text">'+q.q+'</h2><div id="opts">';for(var j=0;j<q.opts.length;j++){h+='<button class="opt-btn" id="opt'+j+'" onclick="pickA('+j+')"><span class="opt-letter">'+String.fromCharCode(65+j)+'.</span>'+q.opts[j]+'</button>'}h+='</div><div id="feedback"></div></div>';root.innerHTML=h;window.scrollTo({top:0,behavior:'smooth'})}

function pickA(idx){if(quizAnswered)return;quizAnswered=true;var q=questions[curQ],ok=idx===q.correct;if(ok)quizScore++;for(var j=0;j<q.opts.length;j++){var b=document.getElementById('opt'+j);if(!b)continue;b.style.cursor='default';if(j===q.correct)b.className='opt-btn correct';else if(j===idx&&!ok)b.className='opt-btn wrong';else b.className='opt-btn dimmed'}document.getElementById('feedback').innerHTML='<div class="feedback-box"><p class="fb-label">'+(ok?'üéâ You got it!':'üòò Almost!')+'</p><p class="fb-text">'+q.response+'</p><button class="quiz-btn" onclick="nextQ()">'+(curQ<questions.length-1?'Next Question ‚Üí':'See Your Results... ‚ú®')+'</button></div>'}

function showQuizResult(){var root=document.getElementById('quiz-root');root.innerHTML='<div style="text-align:center;animation:fadeUp 1s ease both"><div id="scoreBox"><p style="font-size:14px;color:#4dc9f6;font-weight:700;letter-spacing:2px;margin-bottom:8px">YOUR SCORE</p><div class="score-num">'+quizScore+'/'+questions.length+'</div><p style="font-size:16px;color:rgba(255,255,255,.6);margin-bottom:40px">'+(quizScore===questions.length?'Perfect score! You know our story by heart! üíô':'You know us so well! üíô')+'</p></div><div id="revealArea"></div></div>';

/* After 2s show "but wait" then launch calculator */
setTimeout(function(){var ra=document.getElementById('revealArea');if(!ra)return;ra.innerHTML='<p class="reveal-text">But wait... let\'s check one more thing üòè</p>'},2000);

setTimeout(function(){var sb=document.getElementById('scoreBox');if(sb)sb.style.display='none';var ra=document.getElementById('revealArea');if(!ra)return;
ra.innerHTML='<div class="calc-wrap">'+
'<p class="calc-title">üíï Love Compatibility Calculator üíï</p>'+
'<p class="calc-sub">Calculating the love between...</p>'+
'<div class="calc-names"><span class="calc-name">Abhi</span><span class="calc-heart">‚ù§Ô∏è</span><span class="calc-name">Lipi</span></div>'+
'<div class="calc-ring-box">'+
  '<svg class="calc-ring-svg" viewBox="0 0 200 200">'+
    '<defs><linearGradient id="calcGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#4dc9f6"/><stop offset="50%" stop-color="#90EE90"/><stop offset="100%" stop-color="#FFD700"/></linearGradient></defs>'+
    '<circle class="calc-ring-bg" cx="100" cy="100" r="90"/>'+
    '<circle class="calc-ring-fill" id="calcRing" cx="100" cy="100" r="90"/>'+
  '</svg>'+
  '<div class="calc-pct"><span id="calcNum">0</span><span>%</span></div>'+
'</div>'+
'<p class="calc-msg" id="calcMsg">Analyzing your love wavelengths...</p>'+
'<div id="calcNext"></div>'+
'</div>';
startLoveCalc()},4000)}

function startLoveCalc(){
var pct=0,numEl=document.getElementById('calcNum'),ringEl=document.getElementById('calcRing'),msgEl=document.getElementById('calcMsg');
if(!numEl||!ringEl)return;
var totalDash=565.48;
var msgs=[
{at:10,t:'Scanning heartbeats... üíì'},{at:25,t:'Chemistry levels: OFF THE CHARTS üî¨'},{at:40,t:'Matching zodiac energy... ‚ú®'},
{at:55,t:'Soulmate frequency detected! üåü'},{at:70,t:'Love wavelength synchronizing... üì°'},{at:82,t:'This is getting intense... üî•'},
{at:92,t:'Almost there... üí´'},{at:100,t:''}
];
var msgIdx=0;

/* Slow start, pause in middle, fast finish */
var speeds=[
{from:0,to:30,delay:60},{from:30,to:45,delay:100},{from:45,to:55,delay:200},
{from:55,to:60,delay:400},{from:60,to:75,delay:80},{from:75,to:90,delay:50},{from:90,to:99,delay:120},{from:99,to:100,delay:600}
];

function animateRange(rangeIdx){
if(rangeIdx>=speeds.length)return;
var s=speeds[rangeIdx];
var cur=s.from;
var iv=setInterval(function(){
cur++;pct=cur;
numEl.textContent=pct;
ringEl.style.strokeDashoffset=totalDash-(totalDash*(pct/100));
/* Check messages */
while(msgIdx<msgs.length&&pct>=msgs[msgIdx].at){
if(msgs[msgIdx].t)msgEl.textContent=msgs[msgIdx].t;
msgIdx++}
if(cur>=s.to){clearInterval(iv);
if(s.to<100){animateRange(rangeIdx+1)}
else{onCalcDone()}}
},s.delay);
}
animateRange(0);
}

function onCalcDone(){
var msgEl=document.getElementById('calcMsg');
var nextEl=document.getElementById('calcNext');
if(msgEl){msgEl.className='calc-msg final';msgEl.innerHTML='üíõ 100% SOULMATES ‚Äî It was always meant to be! üíõ'}
/* Start music here ‚Äî loops forever */
startMusic();
/* Small heart burst */
burstHearts(20);
setTimeout(function(){
if(nextEl)nextEl.innerHTML='<button class="quiz-btn" onclick="startMusic();showFinalProposal()" style="font-size:17px;padding:15px 40px;animation:pulse 2s ease-in-out infinite">Continue... üíô</button>';
},1500);
}

function showFinalProposal(){var root=document.getElementById('quiz-root');
root.innerHTML='<div style="text-align:center;animation:fadeUp 1s ease both"><div id="revealArea2"></div></div>';
var ra=document.getElementById('revealArea2');
setTimeout(function(){if(!ra)return;ra.innerHTML='<p class="reveal-text">Now you know our love is literally 100% perfect...</p>'},500);
setTimeout(function(){if(!ra)return;ra.innerHTML+='<p class="reveal-text">From that September morning to this Valentine\'s Day...</p>'},2500);
setTimeout(function(){if(!ra)return;ra.innerHTML+='<p class="reveal-text">Every moment with you has been the best moment of my life.</p>'},4500);
setTimeout(function(){if(!ra)return;
ra.innerHTML='<div class="final-proposal"><span class="ring">üíç</span><h1>Lipi,<br>Will You Be My Valentine<br>Forever?</h1><p class="poem">You are my September surprise,<br>my October warmth,<br>my November forever,<br>and my every day after.</p><p class="vday">Happy Valentine\'s Day, My Love! üíô</p><button class="continue-btn" onclick="startMusic();goToCelebration()">See Our Love Story ‚ú®</button><p style="margin-top:28px;font-size:13px;color:rgba(255,255,255,.25);font-style:italic">Forever yours ‚Äî Abhi üíô</p></div>';spawnConfetti()},7000)}

function spawnConfetti(){var d=document.createElement('div');d.style.cssText='position:fixed;inset:0;pointer-events:none;z-index:100;overflow:hidden';d.id='confetti-wrap';document.body.appendChild(d);var cols=['#4dc9f6','#90EE90','#FFD700','#FF69B4','#E0F7FA','#C8E6C9','#FFF9C4','#F8BBD0'];for(var i=0;i<100;i++){var p=document.createElement('div');p.className='confetti-piece';p.style.cssText='left:'+(Math.random()*100)+'%;width:'+(5+Math.random()*8)+'px;height:'+(8+Math.random()*12)+'px;background:'+cols[i%cols.length]+';transform:rotate('+(Math.random()*360)+'deg);animation-duration:'+(2+Math.random()*3)+'s;animation-delay:'+(Math.random()*2)+'s';d.appendChild(p)}}

/* ===== QUIZ ‚Üí CELEBRATION ===== */
function goToCelebration(){document.getElementById('quiz-page').style.display='none';var cw=document.getElementById('confetti-wrap');if(cw)cw.remove();document.getElementById('second-page').style.display='block';document.body.style.overflow='hidden';burstHearts(50);startPetals();showMilestoneToast()}

/* ===== COUNTER ===== */
var meetDate=new Date('2025-09-28T10:00:00'),prevVals={};
function animateNum(id,val){if(prevVals[id]===val)return;prevVals[id]=val;var el=document.getElementById(id);if(!el)return;el.innerText=String(val).length<2?'0'+val:String(val);el.style.transform='scale(1.12)';setTimeout(function(){el.style.transition='transform .3s ease';el.style.transform='scale(1)'},50)}
function updateCounter(){var d=Date.now()-meetDate.getTime();if(d<0)return;var s=Math.floor(d/1000);animateNum('c-days',Math.floor(s/86400));animateNum('c-hours',Math.floor((s%86400)/3600));animateNum('c-mins',Math.floor((s%3600)/60));animateNum('c-secs',s%60);var hb=document.getElementById('hb-count');if(hb)hb.innerText=Math.floor(s*2.4).toLocaleString()}
setInterval(updateCounter,1000);updateCounter();

/* ===== MILESTONE TOAST ===== */
function showMilestoneToast(){var days=Math.floor((Date.now()-meetDate.getTime())/864e5),msg;if(days>=365)msg='üéâ Over '+Math.floor(days/365)+' year'+(Math.floor(days/365)>1?'s':'')+' of loving you!';else if(days>=180)msg='üí´ Half a year of magic together!';else if(days>=100)msg='‚ú® '+days+' days & counting!';else msg='üíï '+days+' beautiful days together';var t=document.createElement('div');t.className='milestone-toast';t.innerHTML='<span class="mt-emoji">üåπ</span><span class="mt-text">'+msg+'</span>';document.body.appendChild(t);setTimeout(function(){t.style.animation='toastOut .5s ease-in forwards'},4000);setTimeout(function(){t.remove()},4600)}

/* ===== EFFECTS ===== */
function burstHearts(n){var em=['üíñ','üíï','üíò','üíù','‚ù§Ô∏è','üåπ'];for(var i=0;i<n;i++){(function(i){setTimeout(function(){var e=document.createElement('div');e.className='burst-heart';e.innerText=em[Math.floor(Math.random()*em.length)];e.style.left=Math.random()*innerWidth+'px';e.style.top=innerHeight*.3+Math.random()*innerHeight*.5+'px';e.style.animationDuration=(1.5+Math.random())+'s';document.body.appendChild(e);setTimeout(function(){e.remove()},2500)},i*80)})(i)}}
function startPetals(){setInterval(function(){var p=document.createElement('div');p.className='petal';p.style.left=Math.random()*innerWidth+'px';var sz=(8+Math.random()*10)+'px';p.style.width=sz;p.style.height=sz;p.style.animationDuration=(4+Math.random()*5)+'s';p.style.opacity=(.2+Math.random()*.4);p.style.background='hsl('+(200+Math.random()*30)+',60%,'+(65+Math.random()*15)+'%)';document.body.appendChild(p);setTimeout(function(){p.remove()},9000)},300)}
document.addEventListener('click',function(e){if(document.getElementById('second-page').style.display==='block'){var sy=['‚ú®','üí´','‚≠ê'];for(var i=0;i<3;i++){var s=document.createElement('div');s.className='sparkle';s.innerText=sy[i];s.style.left=(e.clientX+Math.random()*30-15)+'px';s.style.top=(e.clientY+Math.random()*30-15)+'px';document.body.appendChild(s);(function(s){setTimeout(function(){s.remove()},900)})(s)}}});

/* ===== ROTATING REASONS ===== */
var reasons=['Your smile that lights up my world ‚ú®','The way you laugh at my silly jokes üòÑ','Your adorable angry face ü•∫','How safe I feel with you ü§ó','Your kindness that inspires me üå∏','Everything you are, everything we are ‚ù§Ô∏è'];
var ri=0,reasonEl=document.getElementById('reasons');
function cycleReason(){if(!reasonEl)return;reasonEl.style.opacity=0;setTimeout(function(){reasonEl.innerText=reasons[ri];reasonEl.style.opacity=1;ri=(ri+1)%reasons.length},400)}
cycleReason();setInterval(cycleReason,3000);

/* ===== WHISPERS ===== */
var whispers=['I miss you üíï','Forever yours ‚ù§Ô∏è','My queen üëë','You & me, always ‚ú®','Mon amour üåπ','My everything üíñ'];
setInterval(function(){if(document.getElementById('second-page').style.display!=='block')return;var w=document.createElement('div');w.className='whisper';w.innerText=whispers[Math.floor(Math.random()*whispers.length)];w.style.left=Math.random()*innerWidth+'px';w.style.top=innerHeight+'px';document.body.appendChild(w);setTimeout(function(){w.remove()},7500)},2500);

/* ===== LETTER ===== */
function showLetter(){document.getElementById('letter-modal').style.display='flex'}
function hideLetter(){document.getElementById('letter-modal').style.display='none'}
</script>

</body>
</html>
