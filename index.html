<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lipi, Will You Be My Valentine?</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

html,body{
height:100%;width:100%;overflow:hidden;
font-family:â€˜Cormorant Garamondâ€™,serif;
background:#1a0a10;
color:#fff;
}

#particles{position:fixed;inset:0;z-index:0;pointer-events:none}

/* ============ PAGE 1 ============ */
#first-page{
height:100%;width:100%;
display:flex;flex-direction:column;justify-content:center;align-items:center;
text-align:center;
position:relative;z-index:1;
/* SOLID dark â€” never white regardless of images */
background:#1a0a10;
}

/* Background image layer â€” sits behind overlay */
#fp-bg{
position:absolute;inset:0;z-index:0;
background:#1a0a10;
background-size:cover;
background-position:center center;
background-repeat:no-repeat;
background-image:url(â€˜background.jpgâ€™);
}

/* Dark overlay â€” very heavy for bright photos */
#first-page::before{
content:â€â€;position:absolute;inset:0;z-index:1;
background:rgba(0,0,0,.75);
}

.ask-content{
position:relative;z-index:2;
animation:fadeSlideUp 1.2s ease-out both;
width:90%;max-width:700px;
}

@keyframes fadeSlideUp{
from{opacity:0;transform:translateY(40px)}
to{opacity:1;transform:translateY(0)}
}

.ask-content .pretext{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-size:clamp(15px,3.2vw,24px);
font-weight:600;
letter-spacing:6px;
text-transform:uppercase;
color:#00e5ff;
text-shadow:0 0 20px rgba(0,229,255,.5),0 2px 6px rgba(0,0,0,.9);
margin-bottom:12px;
animation:fadeSlideUp 1s .3s ease-out both;
}

.ask-content h1{
font-family:â€˜Playfair Displayâ€™,serif;
font-size:clamp(34px,8.5vw,80px);
font-weight:700;
line-height:1.1;
color:#fff;
text-shadow:0 0 20px rgba(0,150,255,.8),0 0 40px rgba(0,100,200,.4),0 3px 8px rgba(0,0,0,1);
-webkit-text-stroke:1px rgba(0,0,0,.3);
margin-bottom:10px;
animation:fadeSlideUp 1s .5s ease-out both;
}

.ask-content h1 .name{
font-family:â€˜Great Vibesâ€™,cursive;
display:block;
font-size:clamp(52px,13vw,120px);
color:#4dc9f6;
text-shadow:0 0 30px rgba(0,180,255,.8),0 0 60px rgba(0,120,200,.5),0 4px 10px rgba(0,0,0,1);
-webkit-text-stroke:0.5px rgba(0,0,0,.2);
line-height:1.3;
}

.ask-content .subtitle{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-style:italic;
font-size:clamp(16px,3.5vw,24px);
font-weight:600;
color:#4dc9f6;
margin-bottom:36px;
text-shadow:0 0 15px rgba(0,180,255,.6),0 2px 6px rgba(0,0,0,1);
animation:fadeSlideUp 1s .7s ease-out both;
}

/* â€“â€“ BUTTONS â€“â€“ */
.btn-container{
display:flex;justify-content:center;align-items:center;
gap:24px;min-height:70px;
animation:fadeSlideUp 1s .9s ease-out both;
}

.btn{
font-family:â€˜Playfair Displayâ€™,serif;
font-size:clamp(17px,3.8vw,22px);
font-weight:700;
padding:18px 48px;
border:none;border-radius:60px;
cursor:pointer;letter-spacing:1px;
white-space:nowrap;
}

#yes{
background-color:#2e7dcf;
background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);
color:#fff;
box-shadow:0 8px 32px rgba(30,100,200,.5);
transition:all .4s ease;
}
#yes:hover{
filter:brightness(1.1);
box-shadow:0 14px 44px rgba(30,100,200,.65);
}

#no{
background:#0a1e3d;
color:#fff;
border:2px solid #4dc9f6;
z-index:3;
}
#no.escaped{position:fixed}

.float-heart{
position:absolute;z-index:1;
font-size:clamp(18px,4vw,30px);
color:#4dc9f6;
opacity:.35;
text-shadow:0 0 10px rgba(0,180,255,.5);
animation:gentleFloat 6s ease-in-out infinite;
}
@keyframes gentleFloat{
0%,100%{transform:translateY(0) rotate(0deg)}
50%{transform:translateY(-20px) rotate(8deg)}
}

/* ============ PAGE 2 ============ */
#second-page{
display:none;height:100%;width:100%;position:relative;overflow:hidden;
background:#0a1628;
}

.photo-mosaic{
display:grid;
grid-template-columns:repeat(3,1fr);
grid-template-rows:repeat(2,1fr);
height:100%;width:100%;gap:0;
}

.photo-cell{position:relative;overflow:hidden;background:#0d2240}
.photo-cell .photo-bg{
position:absolute;inset:0;
background-color:#0d2240;
background-size:cover;background-position:center;
transition:transform 8s ease;
filter:brightness(.75) saturate(1.15);
}
.photo-cell:hover .photo-bg{transform:scale(1.08)}

/* Vignette */
#second-page::after{
content:â€â€;position:absolute;inset:0;
background:radial-gradient(ellipse at center,rgba(10,22,40,.15) 0%,rgba(10,22,40,.7) 100%);
pointer-events:none;z-index:1;
}

/* â€“â€“ CENTER CARD â€” SOLID opaque background â€“â€“ */
.love-card{
position:absolute;top:50%;left:50%;
transform:translate(-50%,-50%);
z-index:3;width:90%;max-width:440px;
max-height:92vh;overflow-y:auto;
text-align:center;
background-color:#0d1f3c;
background-image:linear-gradient(145deg,#0d1f3c,#162d50);
border:1px solid rgba(77,201,246,.25);
border-radius:32px;
padding:30px 20px 26px;
box-shadow:0 30px 80px rgba(0,0,0,.6);
animation:cardAppear 1s .3s ease-out both;
scrollbar-width:none;
}
.love-card::-webkit-scrollbar{display:none}

@keyframes cardAppear{
from{opacity:0;transform:translate(-50%,-50%) scale(.9) translateY(30px)}
to{opacity:1;transform:translate(-50%,-50%) scale(1) translateY(0)}
}

.love-card .heart-icon{
font-size:40px;display:block;margin-bottom:2px;
animation:heartbeat 1.2s ease-in-out infinite;
}
@keyframes heartbeat{
0%,100%{transform:scale(1)}
15%{transform:scale(1.15)}
30%{transform:scale(1)}
45%{transform:scale(1.1)}
}

.love-card h1{
font-family:â€˜Great Vibesâ€™,cursive;
font-size:clamp(36px,9.5vw,60px);
color:#4dc9f6;
text-shadow:0 0 30px rgba(0,180,255,.5),0 2px 6px rgba(0,0,0,.8);
margin-bottom:2px;line-height:1.2;
}

.gold-line{
width:60px;height:1px;
background:linear-gradient(90deg,transparent,#4dc9f6,transparent);
margin:10px auto;
}

/* COUNTER */
.counter-label{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-style:italic;
font-size:clamp(13px,3vw,17px);
color:#4dc9f6;
letter-spacing:2px;margin-bottom:10px;
}

.counter-grid{
display:flex;justify-content:center;align-items:flex-start;
gap:clamp(4px,1.5vw,10px);margin-bottom:4px;
}

.counter-unit{display:flex;flex-direction:column;align-items:center}

.counter-num{
font-family:â€˜Playfair Displayâ€™,serif;
font-weight:700;
font-size:clamp(24px,6.5vw,40px);
color:#fff;
width:clamp(44px,12.5vw,68px);
height:clamp(44px,12.5vw,68px);
display:flex;justify-content:center;align-items:center;
background-color:rgba(30,100,200,.2);
background-image:linear-gradient(145deg,rgba(58,142,230,.3),rgba(26,95,160,.2));
border:1px solid rgba(77,201,246,.4);
border-radius:14px;
box-shadow:0 4px 20px rgba(30,100,200,.2);
position:relative;overflow:hidden;
transition:transform .3s ease;
}

.counter-num::after{
content:â€â€;position:absolute;top:0;left:-100%;
width:100%;height:100%;
background:linear-gradient(90deg,transparent,rgba(255,255,255,.06),transparent);
animation:shimmer 3s ease-in-out infinite;
}
@keyframes shimmer{0%,100%{left:-100%}50%{left:100%}}

.counter-unit-label{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-size:clamp(9px,2.2vw,13px);
text-transform:uppercase;letter-spacing:2px;
color:#4dc9f6;margin-top:5px;
}

.counter-colon{
font-family:â€˜Playfair Displayâ€™,serif;
font-size:clamp(22px,5.5vw,34px);
color:#4dc9f6;opacity:.6;
align-self:center;margin-bottom:16px;
animation:colonPulse 1s ease-in-out infinite;
}
@keyframes colonPulse{0%,100%{opacity:.5}50%{opacity:.15}}

.heartbeats{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-style:italic;
font-size:clamp(12px,2.8vw,15px);
color:#4dc9f6;margin:6px 0 2px;
}
.heartbeats .hb-num{color:#fff;font-weight:600;font-style:normal}

.reason{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-style:italic;
font-size:clamp(14px,3.2vw,18px);
color:#fff;
min-height:24px;transition:opacity .4s;
margin:10px 0 16px;
}

.letter-btn{
font-family:â€˜Playfair Displayâ€™,serif;
font-size:clamp(14px,3vw,17px);
font-weight:600;
padding:14px 34px;border:none;border-radius:50px;
background-color:#2e7dcf;
background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);
color:#fff;cursor:pointer;
box-shadow:0 6px 24px rgba(30,100,200,.4);
transition:all .3s ease;
}
.letter-btn:hover{
transform:translateY(-2px);
box-shadow:0 10px 36px rgba(30,100,200,.55);
}

/* ============ LOVE LETTER MODAL ============ */
#letter-modal{
display:none;position:fixed;inset:0;z-index:50;
justify-content:center;align-items:center;padding:24px;
background:rgba(10,4,6,.92);
}

.letter-paper{
background-color:#fdf8f0;
background-image:linear-gradient(168deg,#fdf8f0,#f9ede0);
border-radius:24px;max-width:440px;width:100%;
padding:44px 32px 32px;text-align:center;
position:relative;
box-shadow:0 40px 100px rgba(0,0,0,.5);
animation:letterIn .6s ease-out both;
max-height:90vh;overflow-y:auto;
}
@keyframes letterIn{
from{opacity:0;transform:scale(.92) translateY(20px)}
to{opacity:1;transform:scale(1) translateY(0)}
}

.letter-paper::before{
content:â€â€;position:absolute;top:16px;left:50%;transform:translateX(-50%);
width:60px;height:3px;
background:linear-gradient(90deg,transparent,#3a8ee6,transparent);
border-radius:2px;
}

.letter-paper h2{
font-family:â€˜Great Vibesâ€™,cursive;
font-size:clamp(32px,8vw,46px);
color:#1a5fa0;margin-bottom:20px;
}

.letter-paper p{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-size:clamp(17px,4vw,21px);
line-height:1.8;color:#1a3050;margin-bottom:24px;
}

.letter-paper .close-btn{
font-family:â€˜Playfair Displayâ€™,serif;
font-size:15px;font-weight:600;
padding:14px 36px;border:none;border-radius:50px;
background-color:#2e7dcf;
background-image:linear-gradient(135deg,#3a8ee6,#1a5fa0);
color:#fff;cursor:pointer;
box-shadow:0 4px 16px rgba(26,95,160,.3);
transition:all .3s ease;
}
.letter-paper .close-btn:hover{
transform:translateY(-2px);
box-shadow:0 8px 28px rgba(26,95,160,.45);
}

.wax-seal{
position:absolute;top:-28px;left:50%;transform:translateX(-50%);
width:56px;height:56px;
background:radial-gradient(circle at 40% 35%,#3a8ee6,#1a4a80);
border-radius:50%;
display:flex;justify-content:center;align-items:center;font-size:24px;
box-shadow:0 4px 16px rgba(0,0,0,.3);
}

/* ============ MILESTONE TOAST ============ */
.milestone-toast{
position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:40;
background:#0a1e3d;
border:1px solid rgba(77,201,246,.35);
border-radius:20px;padding:14px 28px;
text-align:center;
animation:toastIn .6s ease-out both;
box-shadow:0 10px 40px rgba(0,0,0,.5);
}
.milestone-toast .mt-emoji{font-size:28px;display:block;margin-bottom:4px}
.milestone-toast .mt-text{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-size:clamp(15px,3.5vw,18px);
color:#4dc9f6;font-style:italic;
}
@keyframes toastIn{
from{opacity:0;transform:translateX(-50%) translateY(-20px)}
to{opacity:1;transform:translateX(-50%) translateY(0)}
}
@keyframes toastOut{to{opacity:0;transform:translateX(-50%) translateY(-30px)}}

/* ============ SPEECH BUBBLE ============ */
.plead-bubble{
position:fixed;z-index:50;
background:#0a1e3d;
border:1px solid rgba(77,201,246,.5);
border-radius:20px;padding:12px 22px;max-width:280px;
text-align:center;pointer-events:none;
animation:bubbleIn .4s ease-out both;
box-shadow:0 8px 30px rgba(0,0,0,.4);
}
.plead-bubble::after{
content:â€â€;position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);
width:0;height:0;
border-left:8px solid transparent;
border-right:8px solid transparent;
border-top:8px solid #0a1e3d;
}
.plead-bubble .plead-emoji{font-size:24px;display:block;margin-bottom:4px}
.plead-bubble .plead-text{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-style:italic;font-size:clamp(14px,3.2vw,18px);
color:#fff;
}
@keyframes bubbleIn{
from{opacity:0;transform:translateY(10px) scale(.9)}
to{opacity:1;transform:translateY(0) scale(1)}
}
@keyframes bubbleOut{to{opacity:0;transform:translateY(-10px) scale(.9)}}

@keyframes pageShake{
0%,100%{transform:translateX(0)}
20%{transform:translateX(-4px) rotate(-.3deg)}
40%{transform:translateX(4px) rotate(.3deg)}
60%{transform:translateX(-3px) rotate(-.2deg)}
80%{transform:translateX(2px) rotate(.1deg)}
}

/* ============ FLOATING EFFECTS ============ */
.petal{
position:fixed;z-index:4;pointer-events:none;
width:12px;height:12px;background:#4dc9f6;
border-radius:50% 0 50% 50%;opacity:.6;
animation:petalFall linear forwards;
}
@keyframes petalFall{
0%{transform:translateY(-20px) rotate(0deg);opacity:.7}
100%{transform:translateY(110vh) rotate(720deg);opacity:0}
}

.burst-heart{
position:fixed;z-index:10;pointer-events:none;font-size:22px;
animation:burstUp 1.8s ease-out forwards;
}
@keyframes burstUp{
0%{transform:translateY(0) scale(1);opacity:1}
100%{transform:translateY(-200px) scale(.6);opacity:0}
}

.sparkle{
position:fixed;z-index:10;pointer-events:none;font-size:16px;
animation:sparkPop .8s ease-out forwards;
}
@keyframes sparkPop{
0%{transform:scale(.5);opacity:1}
100%{transform:scale(2);opacity:0}
}

.whisper{
position:fixed;z-index:4;pointer-events:none;
font-family:â€˜Cormorant Garamondâ€™,serif;
font-style:italic;font-size:clamp(13px,2.5vw,16px);
color:#4dc9f6;opacity:.5;
animation:whisperFloat 7s linear forwards;
text-shadow:0 0 12px rgba(0,180,255,.4);
}
@keyframes whisperFloat{
0%{transform:translateY(0);opacity:.5}
100%{transform:translateY(-100vh);opacity:0}
}

/* ============ RESPONSIVE ============ */
@media(max-width:600px){
.photo-mosaic{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(3,1fr)}
.love-card{padding:22px 14px 20px;border-radius:24px}
.letter-paper{padding:36px 20px 24px}
.counter-num{border-radius:10px}
}

::-webkit-scrollbar{display:none}
</style>

</head>

<body>

<canvas id="particles"></canvas>

<audio id="bg-music" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<!-- ======== PAGE 1 ======== -->

<div id="first-page">
  <!-- Separate background image element -->
  <div id="fp-bg"></div>

<span class="float-heart" style="top:12%;left:8%;animation-delay:0s">â™¥</span>
<span class="float-heart" style="top:20%;right:10%;animation-delay:1.5s;font-size:20px">â™¥</span>
<span class="float-heart" style="bottom:18%;left:15%;animation-delay:3s">â™¥</span>
<span class="float-heart" style="bottom:25%;right:12%;animation-delay:2s;font-size:16px">â™¥</span>

  <div class="ask-content">
    <div class="pretext">a question for you</div>
    <h1>
      <span class="name">Lipi</span>
      Will You Be My Valentine?
    </h1>
    <div class="subtitle">â€” say yes & let me show you something beautiful â€”</div>
    <div class="btn-container">
      <button class="btn" id="yes" onclick="yesClick()">Yes, Forever â™¥</button>
      <button class="btn" id="no">No ğŸ˜œ</button>
    </div>
  </div>
</div>

<!-- ======== PAGE 2 ======== -->

<div id="second-page">
  <div class="photo-mosaic">
    <div class="photo-cell"><div class="photo-bg" data-src="photo1.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo2.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo3.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo4.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo5.JPG"></div></div>
    <div class="photo-cell"><div class="photo-bg" data-src="photo6.JPG"></div></div>
  </div>

  <div class="love-card">
    <span class="heart-icon">ğŸ’–</span>
    <h1>I Love You</h1>
    <div class="gold-line"></div>
    <div class="counter-label">Every second since I found you</div>
    <div class="counter-grid">
      <div class="counter-unit">
        <div class="counter-num" id="c-days">0</div>
        <div class="counter-unit-label">Days</div>
      </div>
      <span class="counter-colon">:</span>
      <div class="counter-unit">
        <div class="counter-num" id="c-hours">0</div>
        <div class="counter-unit-label">Hours</div>
      </div>
      <span class="counter-colon">:</span>
      <div class="counter-unit">
        <div class="counter-num" id="c-mins">0</div>
        <div class="counter-unit-label">Mins</div>
      </div>
      <span class="counter-colon">:</span>
      <div class="counter-unit">
        <div class="counter-num" id="c-secs">0</div>
        <div class="counter-unit-label">Secs</div>
      </div>
    </div>
    <div class="heartbeats">â‰ˆ <span class="hb-num" id="hb-count">0</span> heartbeats together</div>
    <div class="gold-line"></div>
    <div class="reason" id="reasons"></div>
    <button class="letter-btn" onclick="showLetter()">Read My Love Letter ğŸ’Œ</button>
  </div>
</div>

<!-- ======== LOVE LETTER ======== -->

<div id="letter-modal">
  <div class="letter-paper">
    <div class="wax-seal">ğŸ’–</div>
    <h2>My Dearest Lipi</h2>
    <p>
      From the moment you walked into my life, everything changed in the most beautiful way.<br><br>
      Your laugh is my favourite sound, your smile my favourite sight, and your happiness my only mission.<br><br>
      You are my heart, my home, and my forever Valentine. Loving you is the easiest thing I've ever done. â¤ï¸
    </p>
    <button class="close-btn" onclick="hideLetter()">Close With a Kiss ğŸ’‹</button>
  </div>
</div>

<script>
/* ========== IMAGE LOADER â€” tries .JPG .jpg .jpeg .png ========== */
function tryLoad(baseName){
  var exts=['.jpg','.JPG','.jpeg','.JPEG','.png','.PNG'];
  var base=baseName.replace(/\.[^.]+$/,'');
  return new Promise(function(resolve){
    var tried=0;
    exts.forEach(function(ext){
      var img=new Image();
      img.onload=function(){resolve(base+ext)};
      img.onerror=function(){tried++;if(tried>=exts.length)resolve(null)};
      img.src=base+ext;
    });
  });
}

/* Load background image â€” .jpg primary */
tryLoad('background.jpg').then(function(url){
  if(url) document.getElementById('fp-bg').style.backgroundImage='url('+url+')';
});

/* Load grid photos */
document.querySelectorAll('.photo-bg').forEach(function(el){
  var src=el.getAttribute('data-src');
  if(src){
    tryLoad(src).then(function(url){
      if(url) el.style.backgroundImage='url('+url+')';
    });
  }
});

/* ========== PARTICLE CANVAS ========== */
(function(){
  var c=document.getElementById('particles'),ctx=c.getContext('2d');
  var w,h,dots=[];
  function resize(){w=c.width=innerWidth;h=c.height=innerHeight}
  resize();addEventListener('resize',resize);
  for(var i=0;i<60;i++){
    dots.push({
      x:Math.random()*w,y:Math.random()*h,
      r:Math.random()*2+.5,
      dx:(Math.random()-.5)*.3,
      dy:-(Math.random()*.3+.1),
      o:Math.random()*.4+.1
    });
  }
  function draw(){
    ctx.clearRect(0,0,w,h);
    for(var i=0;i<dots.length;i++){
      var d=dots[i];
      ctx.beginPath();
      ctx.arc(d.x,d.y,d.r,0,Math.PI*2);
      ctx.fillStyle='rgba(77,201,246,'+d.o+')';
      ctx.fill();
      d.x+=d.dx;d.y+=d.dy;
      if(d.y<-10){d.y=h+10;d.x=Math.random()*w}
      if(d.x<-10)d.x=w+10;
      if(d.x>w+10)d.x=-10;
    }
    requestAnimationFrame(draw);
  }
  draw();
})();

/* ========== PAGE TRANSITIONS ========== */
function yesClick(){
  document.getElementById('first-page').style.display='none';
  document.getElementById('second-page').style.display='block';
  try{document.getElementById('bg-music').play()}catch(e){}
  burstHearts(50);
  startPetals();
  showMilestoneToast();
}

/* ========== NO BUTTON â€” runs away, cycles text, never disappears ========== */
var noCount=0;
var noEscaped=false;
var currentBubble=null;
var noMoving=false;

var noTexts=[
  'No ğŸ˜œ','Are you sure? ğŸ¥º','Really?! ğŸ˜¢','Think again! ğŸ’”',
  'Pretty please? ğŸ™','I\'ll be sad ğŸ˜­','Don\'t do this! ğŸ’•',
  'One more chance? ğŸ¥¹','PLEASE ğŸ˜©','You\'re breaking my heart ğŸ’”',
  'I won\'t give up! ğŸ’ª','...just say Yes already â¤ï¸',
  'Okay I\'ll just wait here ğŸ¥º','Still no?! ğŸ˜±',
  'You\'re so stubborn ğŸ˜œ','But I love you! ğŸ’–',
  'No is not an option! ğŸš«','Try again ğŸ˜',
  'Nope, not accepting that! ğŸ’•','The answer is Yes ğŸ˜'
];

var pleadMessages=[
  {e:'ğŸ¥º',t:'But I made this whole website for you...'},
  {e:'ğŸ˜¢',t:'My heart just cracked a little...'},
  {e:'ğŸ’”',t:'Are you really going to break my heart?'},
  {e:'ğŸ™',t:'I promise to love you forever!'},
  {e:'ğŸ˜­',t:'The roses are crying right now...'},
  {e:'ğŸ¥¹',t:'Even the stars are asking you to say yes...'},
  {e:'ğŸ’•',t:'Come on, you know you want to say yes!'},
  {e:'ğŸ˜©',t:'I\'ll keep asking until you say yes!'},
  {e:'âœ¨',t:'The universe wants us together!'},
  {e:'ğŸ’–',t:'Your smile already said yes...'},
  {e:'ğŸ‘‘',t:'Every queen deserves her king!'},
  {e:'ğŸŒ¹',t:'This rose won\'t stop until you say yes!'},
  {e:'ğŸ˜',t:'Just look at those photos and say yes!'},
  {e:'ğŸ’—',t:'My love for you is bigger than this button!'},
  {e:'ğŸ«¶',t:'You + Me = Forever. Simple math!'},
  {e:'ğŸ¥°',t:'Resistance is futile, you know that right?'},
  {e:'ğŸ’˜',t:'Cupid is on my side!'},
  {e:'ğŸ˜¤',t:'I can do this all day!'},
  {e:'ğŸ¦‹',t:'You give me butterflies every single day...'},
  {e:'ğŸ’',t:'Okay fine, I\'ll just love you anyway!'}
];

function moveNo(e){
  if(e){e.preventDefault();e.stopPropagation();}
  if(noMoving) return;
  noMoving=true;
  setTimeout(function(){noMoving=false},300);

  var btn=document.getElementById('no');
  var yesBtn=document.getElementById('yes');

  if(!noEscaped){
    noEscaped=true;
    btn.classList.add('escaped');
  }

  noCount++;
  btn.innerText=noTexts[noCount%noTexts.length];

  /* Grow Yes button */
  var grow=Math.min(1.4, 1+Math.min(noCount,8)*0.05);
  yesBtn.style.transform='scale('+grow+')';
  yesBtn.style.boxShadow='0 '+(8+Math.min(noCount,10)*2)+'px '+(32+Math.min(noCount,10)*4)+'px rgba(30,100,200,'+(Math.min(.75,.45+Math.min(noCount,10)*.03))+')';

  /* Move to random position â€” always on screen */
  var pad=30;
  var bw=Math.max(btn.offsetWidth,120);
  var bh=Math.max(btn.offsetHeight,50);
  var nx=pad+Math.random()*Math.max(1,innerWidth-bw-pad*2);
  var ny=pad+Math.random()*Math.max(1,innerHeight-bh-pad*2);
  btn.style.left=nx+'px';
  btn.style.top=ny+'px';

  /* Show plead bubble */
  showPleadBubble(nx,ny,btn);

  /* Page shake */
  document.body.style.animation='none';
  requestAnimationFrame(function(){document.body.style.animation='pageShake .3s ease'});
}

/* Attach events via JS instead of inline â€” handles both touch & hover without double-fire */
(function(){
  var noBtn=document.getElementById('no');
  noBtn.addEventListener('mouseover', moveNo);
  noBtn.addEventListener('touchstart', moveNo, {passive:false});
  noBtn.addEventListener('click', moveNo);
})();

function showPleadBubble(btnX,btnY,btn){
  if(currentBubble){currentBubble.remove();currentBubble=null}

  var msg=pleadMessages[(noCount-1)%pleadMessages.length];
  var bubble=document.createElement('div');
  bubble.className='plead-bubble';
  bubble.innerHTML='<span class="plead-emoji">'+msg.e+'</span><span class="plead-text">'+msg.t+'</span>';

  var bx=Math.min(innerWidth-270,Math.max(10,btnX-60));
  var by=btnY-85;
  if(by<10)by=btnY+(btn.offsetHeight||50)+15;
  bubble.style.left=bx+'px';
  bubble.style.top=by+'px';

  document.body.appendChild(bubble);
  currentBubble=bubble;

  setTimeout(function(){
    if(bubble===currentBubble){
      bubble.style.animation='bubbleOut .3s ease-in forwards';
      setTimeout(function(){bubble.remove();if(currentBubble===bubble)currentBubble=null},300);
    }
  },2200);
}

/* ========== COUNTER ========== */
var meetDate=new Date('2025-09-28T10:00:00');
var prevVals={};
function animateNum(id,val){
  if(prevVals[id]===val)return;
  prevVals[id]=val;
  var el=document.getElementById(id);
  el.innerText=String(val).length<2?'0'+val:String(val);
  el.style.transform='scale(1.12)';
  setTimeout(function(){el.style.transition='transform .3s ease';el.style.transform='scale(1)'},50);
}

function updateCounter(){
  var diff=Date.now()-meetDate.getTime();
  if(diff<0)return;
  var sec=Math.floor(diff/1000);
  animateNum('c-days',Math.floor(sec/86400));
  animateNum('c-hours',Math.floor((sec%86400)/3600));
  animateNum('c-mins',Math.floor((sec%3600)/60));
  animateNum('c-secs',sec%60);
  document.getElementById('hb-count').innerText=Math.floor(sec*2.4).toLocaleString();
}
setInterval(updateCounter,1000);
updateCounter();

/* ========== MILESTONE TOAST ========== */
function showMilestoneToast(){
  var days=Math.floor((Date.now()-meetDate.getTime())/864e5);
  var msg;
  if(days>=365) msg='ğŸ‰ Over '+Math.floor(days/365)+' year'+(Math.floor(days/365)>1?'s':'')+' of loving you!';
  else if(days>=180) msg='ğŸ’« Half a year of magic together!';
  else if(days>=100) msg='âœ¨ '+days+' days & counting!';
  else msg='ğŸ’• '+days+' beautiful days together';

  var t=document.createElement('div');
  t.className='milestone-toast';
  t.innerHTML='<span class="mt-emoji">ğŸŒ¹</span><span class="mt-text">'+msg+'</span>';
  document.body.appendChild(t);
  setTimeout(function(){t.style.animation='toastOut .5s ease-in forwards'},4000);
  setTimeout(function(){t.remove()},4600);
}

/* ========== EFFECTS ========== */
function burstHearts(n){
  var emojis=['ğŸ’–','ğŸ’•','ğŸ’˜','ğŸ’','â¤ï¸','ğŸŒ¹'];
  for(var i=0;i<n;i++){
    (function(i){
      setTimeout(function(){
        var el=document.createElement('div');
        el.className='burst-heart';
        el.innerText=emojis[Math.floor(Math.random()*emojis.length)];
        el.style.left=Math.random()*innerWidth+'px';
        el.style.top=innerHeight*.3+Math.random()*innerHeight*.5+'px';
        el.style.animationDuration=(1.5+Math.random())+'s';
        document.body.appendChild(el);
        setTimeout(function(){el.remove()},2500);
      },i*80);
    })(i);
  }
}

function startPetals(){
  setInterval(function(){
    var p=document.createElement('div');
    p.className='petal';
    p.style.left=Math.random()*innerWidth+'px';
    var sz=(8+Math.random()*10)+'px';
    p.style.width=sz;p.style.height=sz;
    p.style.animationDuration=(4+Math.random()*5)+'s';
    p.style.opacity=(.2+Math.random()*.4);
    p.style.background='hsl('+(200+Math.random()*30)+',60%,'+(65+Math.random()*15)+'%)';
    document.body.appendChild(p);
    setTimeout(function(){p.remove()},9000);
  },300);
}

document.addEventListener('click',function(e){
  if(document.getElementById('second-page').style.display==='block'){
    var syms=['âœ¨','ğŸ’«','â­'];
    for(var i=0;i<3;i++){
      var s=document.createElement('div');
      s.className='sparkle';
      s.innerText=syms[i];
      s.style.left=(e.clientX+Math.random()*30-15)+'px';
      s.style.top=(e.clientY+Math.random()*30-15)+'px';
      document.body.appendChild(s);
      (function(s){setTimeout(function(){s.remove()},900)})(s);
    }
  }
});

/* ========== ROTATING REASONS ========== */
var reasons=[
  'Your smile that lights up my world âœ¨',
  'The way you laugh at my silly jokes ğŸ˜„',
  'Your adorable angry face ğŸ¥º',
  'How safe I feel with you ğŸ¤—',
  'Your kindness that inspires me ğŸŒ¸',
  'Everything you are, everything we are â¤ï¸'
];
var ri=0;
var reasonEl=document.getElementById('reasons');
function cycleReason(){
  reasonEl.style.opacity=0;
  setTimeout(function(){
    reasonEl.innerText=reasons[ri];
    reasonEl.style.opacity=1;
    ri=(ri+1)%reasons.length;
  },400);
}
cycleReason();
setInterval(cycleReason,3000);

/* ========== FLOATING WHISPERS ========== */
var whispers=['I miss you ğŸ’•','Forever yours â¤ï¸','My queen ğŸ‘‘','You & me, always âœ¨','Mon amour ğŸŒ¹','My everything ğŸ’–'];
setInterval(function(){
  if(document.getElementById('second-page').style.display!=='block')return;
  var w=document.createElement('div');
  w.className='whisper';
  w.innerText=whispers[Math.floor(Math.random()*whispers.length)];
  w.style.left=Math.random()*innerWidth+'px';
  w.style.top=innerHeight+'px';
  document.body.appendChild(w);
  setTimeout(function(){w.remove()},7500);
},2500);

/* ========== LETTER ========== */
function showLetter(){document.getElementById('letter-modal').style.display='flex'}
function hideLetter(){document.getElementById('letter-modal').style.display='none'}
</script>

</body>
</html>
